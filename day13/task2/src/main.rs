fn main() {
    let fields = vec![
r".##.#....####..
###....###...##
.....###..#####
.....###..#####
###....###...##
.##.#....####..
#.#..#.#...#.##
##..#.##.#.##..
.#.#.#.#..#.###
.#.###.#..#..##
.#..#.....#.###
..###.###..##..
...#.#..#..####
#.####.##..#.##
..##.##.###.###
#.#.##.#..#.###
#..###...###.#.",

r"....##..##...
..#..####..#.
.############
.############
..#..####..#.
....##..##...
###......#.##",

r".##..#..#.###
.##.#...#..##
..#.######.#.
.......#.....
.......#.....
..#.######.#.
.##.#...#..##
.##..#..#.###
####.#####.#.
####.#####.#.
.##.....#.###",

r"#..##.##.
#...###..
##..###.#
##.##..##
##.##..##
##..###.#
#...###..
#..##.##.
##.##.###
..##.....
..#...###
..##..#..
..#...#..
..#...###
..##.....",

r"..##.##.##...
##.#......###
..########...
#####..######
..#......#...
.####..####..
#....##....##
....#..#.....
#...####...##
##.#....#.###
#...#..#...##
#####..######
##..#..#..###
.#...##...#..
..#.#..#.#...",

r".####..
.####..
##..###
..##...
.####..
##..###
#.##.#.
.####..
#####.#",

r"#.#..##..#.#..###
#.##.##.##.#.####
#.#......#.#.#...
#..........#.####
.##########..#.##
#..######..####..
##...###..##.####
#..........######
#.########.#..#..
.#..#..#..#.###..
.##..##..##..#...
#.########.#..#..
...#....#...#..##",

r"#......
.#.#.#.
.##..##
.##...#
.#.#.#.
#......
#.###..
#.###..
#......
.#.#.#.
.##...#",

r".##.##.
#.##..#
....##.
#..####
##.#..#
####..#
.#.....
##.#...
..#.##.
###.##.
###.##.",

r"....#.##.
#.#....#.
#.#....#.
....#.###
.#....###
.####.##.
...##....
##.######
.##.#....
#..#.##.#
.####.###
#...####.
#...####.",

r"..##...###..#..#.
..##...###..#..#.
####.#.#.#..#.#.#
..###.#....#.####
##.###.#####...##
...#.#...##..#...
...#..###....#..#
###.....#......#.
#.###...#####.##.
..###.#.##..#..#.
..#####.#.#......
###....#.#.#..##.
..#.####.##.#....",

r".###..#.#
.###..#.#
..##.##.#
#.#####.#
#.#.#####
.###.....
##.#.##.#
.#.###.#.
#.####.##
#.####.##
.#.###.#.
##.#.##.#
.###.#...",

r"########.
...#.#.##
#..#####.
#..#.....
..##.#...
..##...#.
..##...#.
..##.#...
#.##.....
#..#####.
...#.#.##
########.
##.##.###
....#####
..#.....#
..#.....#
....#####",

r"....##....#
.##.#.####.
#..#.######
#..###.##.#
....#.#..#.
#.#########
....##....#
#..##......
#####..##..
#..#..####.
.##...#..#.",

r"........#......
.........#.####
##....##....#..
.##..##...##..#
.##..##.##...#.
########.####.#
########.####.#
.##..##.##...#.
.##..##...##..#
##....##....#..
.........#.####
........#......
.#...##.#.#...#
#.#..#.#....##.
###..####.####.
#......#...##.#
##########...##",

r"##.#.#..#####
##.###.#.#...
.....##..#...
####.######..
.##..###.#.##
#.####.####..
.#...#..#.#..
.###.##..#.##
##.##...#####
#..####.#####
...##.....###
#.#...###..##
#.#...###..##
...##...#.###
#..####.#####",

r"....#..##.#..####
#.##.######.###.#
#####.#.#.#.#....
#####.#.#.#.#....
#.##.######.###.#
....#..####..####
..##.#####.....##
#.#.#....###.#..#
..#...#.##.####..
.##...###.#.###..
.##...###.#.###..",

r".###.#..#.###..
#.#.#.##.#.#.##
..#.######.#...
..#...##...#...
#.##.####..#.##
##.########.###
..#..####..#...
#.##......##.##
##.#..##..#.###",

r"##.#........#.###
###..##..##..####
#..#..#.....#..##
...#.##..##.#....
#..#..#..#..#..##
...###.##.###....
#.#####..#####.##
....########.....
..#.#..##..#.#...
.#.###.##.###.#..
..##..####..##...
#.#..#....#..#.##
.#..##.##.##..#..
####..####..#####
##.#.##..##.#.###",

r"#.#.##.#.###..#
##......###.##.
....##...##....
####..######..#
.##....##.#####
#........#.....
##......####..#",

r"..###.#..####
..###.###..##
..###.###.###
..#.#..#....#
..#.#..##...#
..###.###.###
..###.###..##
..###.#..####
###..#...#.##
###....#.#.#.
...#.###..##.
######.###..#
##......#..#.",

r".#######.##.#####
.#...#........#..
##...###....###..
##...###....###..
.#...#........#..
.#######.##.#####
#.####..####.####
#.##..########..#
.#.#...#....#...#
..###..#....#..##
...#.#..#..#..#.#",

r"##.#...##...#
...#.#....#.#
###.#.####.#.
..###.####.##
##.#.#....#.#
##..#..##..#.
......####...
##.#.#....#.#
..#.##....##.
......#..#...
...##.####.##
..#....##....
##...######.#",

r"............#.#
##.#....#.###..
.##.#..#.##...#
###########..##
....####....##.
#..##..##..##..
####....####.#.
...#.##.#......
#..#....#..###.
.#........#.###
.#.#....#.#...#
.##......##.###
....####....#..
##.#....#.##.##
#..######..###.
#...#..#...###.
#...#..#...###.",

r".#..#.#.#
.#..#.#.#
....##..#
#.#######
##..#..#.
.#.#.#..#
...#....#
.###..#.#
...#..###
.#.##.##.
#####...#
#####...#
.#.##.##.
...#..###
.####.#.#
...#....#
.#.#.#..#",

r"##.#.#.
###..##
##.#.##
.###...
.###...
##.#.##
###..##
##.#.#.
...###.
.#.###.
##.#.#.
###..##
##.#.##",

r".####..##
.#.##..##
##.######
.....##..
###..##..
....#..#.
##.######
....####.
.#.#....#",

r"#.#..#.#.##..##
........#.#####
...##....#..##.
.#.##.####.###.
########.#.#.##
##.##.##..##..#
..#..#..##..#.#
..#..#..##..#.#
##.##.##..##..#",

r"..#...#.#######
#.##....#..##..
..###..########
#....#.##..##..
#....####..##..
..###..########
#.##....#..##..
..#...#.#######
..####.###....#
#####.###.####.
.##..####......
...##...##.##.#
#...###..######",

r"#..#...#..#
#......#..#
.##......#.
####..#.###
..##..##...
#.##.#.#..#
#...##.###.
##.#...##..
##..###...#
##..###...#
##.#...##..
#...##.###.
#.##.#.#..#",

r".########....##..
###.##.###.##..##
..#.##.#..##.##.#
.##....##..######
##.#.##.##..####.
##.#..#.##.#....#
..######.........",

r".##..##.#.#..#.
#......########
#########......
#########.####.
###..###.#.##.#
##.######.####.
##.##.##.......
.######..#....#
..####...##..##
########..#..#.
..#..#..##.##.#
#.#..#.###....#
...##....#....#
...##....#.##.#
#......##..##..
#########.#..#.
...........##..",

r"#....#..#.#.##.
...##.#...#####
...##.#....####
#....#..#.#.##.
..###.###...##.
#..##..##.##..#
##...#......##.
.####.#..#.....
.##.##.#....##.
.#..#..#.##.##.
##.##.###......
#..#.....##....
#.#..#..#..####
.###.#.#...####
...#....#######
..#.#.#...#.##.
...#........##.",

r".......##.......#
#..###....###..#.
####.######.#####
....###..###.....
.##..#....#..##..
.##..#....#..##..
#####.####.######
.##.###..###.##.#
.##.#..##..#.##..
#..#........#..##
####.##..##.#####
###.##.##.##.###.
....###..###.....",

r".....#........#
.....#........#
..###...#.#.#..
##.#.##....#..#
###..#.#.####.#
.###....#..#..#
...#.#.#.#..##.
...#.#.#.#..##.
.###....#.....#",

r"#####.#
.....##
#####..
#####..
#..####
####.##
....#..
....#..
####.##
#..####
######.",

r"##.##.#######
.###.#...##..
###.##...##..
..#.#....##..
#..###.######
.#.#.#.#....#
...#...##..##
..##.##......
..##.####..##
.##.##.##..##
.#####.######",

r"....##...
..#....#.
....##...
####..###
####..###
##.#..#.#
..#....#.
###.....#
..#....#.
..##..##.
...####..",

r"#########....
##.##.####...
.#....#..#...
#.#..#.##.#..
.##..##..#...
.########....
#.####.#.....
#..##..#.##..
########.....
.######.#####
.######...#..
..####..##...
#.####.#.####
#.####.#.....
...##......##",

r"...##.##.....#.
..###.##.....#.
....##.#..###.#
..####.#.###.#.
##...##..###.#.
##.####...##..#
###.##.####.#.#
...#....#.#....
##.#####..##.##
....##.#.###...
##.#.####.#.###
......##..##.##
####.#..####..#",

r".##..#.##
#..##.##.
#..##.###
.##..#.##
####..##.
....#.###
.##...#..",

r"...#..##..#..#..#
.#.#..##..#..#..#
#......#.#.##.#.#
#...####.#.##.#.#
...###.###....###
...#.#...######..
#..####..........
..##..##.#.##.#.#
##.#.#..#..##..#.",

r"####.#..#.####.
.##..####..##..
##.##.##.##.###
..###.#..###...
##.#..##..#.##.
##..######..##.
...###..###...#
...###..###...#
##..######..##.
##.#..##..#.##.
..###.#..###...",

r"..##..##..#.##..#
.####.###########
.#..#.##........#
.####.##..#..#..#
##..##.#.#.##.#.#
#....#..###..###.
......#..........",

r"#.#..##.###..##
####.#.#..#..#.
..##.#..###..##
.#..##..##.##.#
.#..#...#######
##.#.#####.##.#
#.#.......#..#.
#.#...#........
#...#...#######
#.#...#.#.#..#.
.#...#..#.#..#.
##.#..##..#..#.
####..##..#..#.",

r"####..#...###..#.
.##.#.#.##.######
..#.##...######.#
##.##..##.#####.#
#.##....#........
#.##....#........
##.##...#.#####.#
..#.##...###...##
..#.##...###...##
##.##...#.#####.#
#.##....#........
#.##....#........
##.##..##.#####.#",

r"####..###.######.
#....##.####..###
#....##.####..###
####..###.######.
#..#.####.#.##.#.
#####....#..##..#
.#.#...#...#.##..
...##.#.#..#..#..
#.#.#..#.#......#
#.####.##........
#.###...#..#..#..
.#####.#.########
....#..#...####..
.#..#.#.##.####.#
..##..#.#.#....#.
.##.#..###.####.#
.#....#..########",

r"#..##...#..#....#
####.#.#....#..#.
.#.....###.######
..####.##.##.##.#
..####.##.##.##.#
.#.....##########
####.#.#....#..#.
#..##...#..#....#
#...######.######
##..#.#...##....#
#....###.####..##
#...##..###.####.
.###..#....#.##.#",

r"..##.#..#.##...
..#.#....#.#...
..#.#....#.#...
..##.#..#.##...
.####.##.####.#
#.#.######.#.##
#.#.#.##.#.#.##
..###.##.###.##
#..##.##.##..##
##.##.##.##.##.
##..##..##..##.",

r"#.###.##.#.#.##.#
#..####....######
##...##..###....#
####..#.###.#..#.
##.##...#.#..#...
...#...##.#..##..
###.#.#.#.#..##..
..#..##.##.#.##.#
.##.####.#.......
.##.####.#.......
..#..##.##.#.##.#
###.#.#.#.#..##..
...#...##.#..##..",

r"....##...
....##...
####.#..#
.##.#.#..
..#.###.#
.##.#.###
#####.###
.##.###..
#####.##.",

r".#.#......#######
###.###....#.####
#...#.#.##...####
.###.#..##...####
#####....####....
#.##..##.#...####
#.#.###.#.....##.
.##.###.#..#.....
###..#..##.#.####
..#.#.#..#.#.....
.###....#........
####.#..##..#....
#.##....#..#.####
.###.###.#..#####
.##..#.#..#######",

r"...#.####
....###.#
#.#.#...#
#.#.#...#
....#.#.#
...#.####
##.#..#.#
##..#....
.#....###
##...#.##
##...#.##
.#....###
##..#....
##.#..#.#
...#.####
....#.#.#
#.#.#...#",

r"##..##..#######
..######.......
....##....####.
....##....####.
#..#..#..######
#.#....#.##..##
###....########
###....###....#
.#......#..##..
...####...#..#.
#.#....#.######
#.#####..##..##
..#....#..#..#.
####..#########
...#..#...#..#.",

r"####...####
####...####
##...#....#
.####..####
...##..#...
.##.#.#..#.
##..#..#..#
#.#..##.#.#
.#..##..#.#
##.#####...
####.####..
####.####..
##.#####...
.#..##..#.#
..#..##.#.#",

r"#.#.#.#.###
#...#.#.###
.######.#.#
####......#
..#.##.###.
.##...###..
.##...###..
..#.##.###.
####......#
.######.#.#
#...#.#.###",

r"##..#.#
...#.##
...#.##
.#..#.#
####..#
.#####.
.#####.",

r"#.##.#.##....
#######..####
....#.#.##..#
..##..##..##.
......###....
.#..#.###....
#######.##..#
########.....
.#..#.##.####
#.##.#...####
#....#.#.#..#
##..##...####
##..##.######",

r"#..##.#..##
##.##.#.###
####....#..
####....#..
##.##.#.###
#..##.#..##
#...#....#.
...##.####.
##..##...##
.#...#.#...
.###.#.##.#
#..###..##.
#..###...#.
.###.#.##.#
.#...#.#...",

r"..#.####.#..##.
.....##.....###
..#.#..#.#...#.
##.#....#.####.
.#........#.#.#
...##..##...##.
###.####.###..#
###......######
####.##.####.##",

r"...##....####....
########..##..###
########......###
#......#..##..#..
#.#..#.#..##..#.#
#.#..#.########.#
...##...######...
.#....#.######.#.
#..##..##.##.###.
#########....####
##....###....###.",

r"..#.##..######..#
..#.##..######..#
##.##..#..##..#..
#...#.#..####..#.
.....#..######..#
.#.##.####..####.
#...#.#.#....###.
##...#####..#####
..#..#.#..##..#.#",

r".......####
##..##.#.#.
##..###.#..
#.##.##..##
#....##..##
.####.##...
#######....
##..###....
.#..#.##...
.#..#.#..##
......###..
..##....#..
##..####.##",

r".##....#.
####....#
.##..##..
...##..##
...##..##
.##..##..
####....#",

r"#.#.#.#.###
...##.....#
.######.##.
......#.##.
.#####.#...
.#...##...#
.#...##...#
.#####.#...
.#....#.##.
.######.##.
...##.....#
#.#.#.#.###
##.#.##.#.#
.#.##..#.#.
.#....###..
.#....###..
.#.##..#.#.",

r"#....#.####..
#.####.###..#
.#..#.#..#.#.
#.#..#....##.
#######..####
.#.#####.###.
.#.#####.###.
#######..####
#.#..#....##.
.#..#.#..#.#.
#.########..#
#....#.####..
#....#.####..",

r".#...###.##.#
.......######
.##.##..#..##
....#.#...#..
.##.###..#.##
.##.####..#.#
####.###.#..#
#..#.#....###
....##.....#.
....##.....#.
#..#.#....###",

r".##.##..#......
.#.#.....##.###
.#.#.....##.###
.##.##..#......
...#..##..#.#.#
#####.#....#.##
#####.###.#.###
..#.#.#.#..##..
..#.#.###..#...",

r"#.#...##.##..
####.##.#####
#...#....#.##
##..####.##..
##.#.#..#....
.##..##.#..##
.#..#.##.####
.#..#.....#..
#######.#####
##.##..#.....
##.##........
#######.#####
.#..#.....#..
.#..#.##.####
.##..##.#..##
##.#.#..#....
##..####.##..",

r"..#.###..###.#..#
..#.###..###.#..#
......#..#.......
.#..##....##..#..
.#.#...##...#.#.#
..#.#......#.#...
##............##.
#.##........##.##
..###.#..#.###...
.#....#..#....#..
#...#.#..#.#...##
######.##.######.
.#.##########.#.#
##.#.#.##.#.#.##.
.#.#.##..##.#.#..
#.############.##
#####......###.#.",

r"#..#...
..#####
.#....#
.#..###
#...###
.#.####
.#.#...
...####
.#.##..
..###..
...##..
...##..
..###..
.#.##..
...####",

r"#.#######....#.#.
#..#.##.##......#
...#.##.##......#
#.#######....#.#.
#.#######....#.#.
...#.##.##......#
#..#.##.##......#
#.#######....#.#.
##.#.#######....#
###.###...##.#...
#..#....#####....
..#.#..##.......#
###.######.#.#.#.
.#.#####.........
...##.#..######..
.###.#.##..#####.
#...#.#..#.###.##",

r"#...#.#
####...
####...
#...#.#
.....##
..##.##
.##...#
..##...
#.##.##
..###..
..###..
#.##.##
..##...
..#...#
..##.##",

r".#..#..##.#...##.
.#..#..##.#...##.
#.#.#####..####.#
....#.##....#.##.
.##.##.#.####....
###..###.....####
#.##.#..##.......",

r".#.#.###.#.##
#.###..#.#.##
#####.#.###..
#####.#.###..
#.###..#.#.##
.#.#.###.#.##
#....##..#...
#...####..###
##.#.###..#.#
##..#...#.###
##..#...#.###
##.#.###..#.#
#...####..###
#....##..#...
.#.#.###.####",

r".##.##.
#..#.#.
######.
#..#...
#..#..#
#..#..#
#..##..
######.
#..#.#.",

r".##.#.##.#..#.##.
.##.#.##.#..#.##.
###.#.##.#.##....
#.#.##.....#.####
##..#.##.#######.
....#.##.#.###..#
..#......#.##....
.#......###.#.##.
#..#.###.#...#..#",

r"...##...#..##
#.####.###...
...##.....#..
.#.##.#..##..
##....###....
........#..##
#......####..
#..##..#.....
###..###..###
.######..#...
#.####.....##",

r"##....##..##..##.
...#####.#..#.###
####.##.######.##
..##...#..##..#..
##.#...########..
..##....##..##...
..#.#############
..####....##....#
###....##....##.#
..##.###.#..#.###
##...#.#......#.#
##..##.###..###.#
...#.#...####...#
...#...##.##.##..
###..##.##..##.##
..#.#..##....##..
..###.###....###.",

r"........#.###
..##...#####.
.####.#.##..#
.####.#..#.#.
##..####..#.#
##..##..#...#
##..##..#...#
##..####..#.#
.####.#..#.#.
.####.#.##..#
..##...#####.
........#.###
######.#.#..#
##..####..###
#....#..#....
#.##.#.#....#
##.####.###.#",

r"#.#..#.#.#.#.####
###..#####....##.
#..##..##..###..#
#.######.###.#..#
########..#..####
.#.##.#.##...####
#.####.#.#..##..#
##....##..#..#..#
..####...##..#..#
#.####.#.#.......
...##...###..#..#
.#....#.###..#..#
..#..#..#.#..####",

r"...#...###.#.#...
.......#....#..##
.##.....##.####..
.#..######.#.##..
.#####.....###...
.#...###..###..##
###.#..#....##...
.#.####.#.#..#.##
#.####..##.#.####
#.#.##..##.#.####
.#.####.#.#..#.##",

r".##.#....#..#..#.
#....####....#...
#.#...##...#.####
.#...####...#.###
#.##.####.##.#.##
.#.##.##.##.#.#.#
#..###..###..##.#
#..###..###..##.#
.#.##.##.##.#.#.#
#.##.####.##.#.##
.#...####...#.###",

r".#..#.##...
.##..###...
####..##.##
.......#.##
.##.#.#....
....####...
.##.#...#..
####.#.##..
.##..##..##",

r".#.####..
#..######
##.##....
.##.##...
.##.##...
##.##....
#..######
.#.####..
#..#..###
.#...####
##.......
##....#..
#..#...##
.###..###
#...#...#
.#..#....
#.###....",

r".##.###.###.###
.#####.##.#..##
.#####.##.#..##
.##.###.#######
.#.##....##.###
##.###..#...###
.#...#.#####.##
##.###...######
.#.#.##....##..
##.#.#.##..#...
###.##..##.#...
#####....###...
#....#......###",

r".###...#.###.
#...#.#.....#
#...#.#.....#
.###...#.###.
.#..#....#..#
#..###.##.#..
#.##..#..#...
#.######...#.
#.######...#.
#.##..#..#...
##.###.##.#..
.#..#....#..#
.###...#.###.",

r"......####.#...#.
......##.##..#.#.
.#..#..#.####...#
.#..#..##.##.####
#.##.###..##..###
#######.##..###..
#.##.#....##..#..
..##...###.######
......##..##...##
......#.#...#.###
......#.#...#.###
......##..##.#.##
..##...###.######",

r"#..#..#..
.....####
.##.#...#
.##.#...#
.....####
#..#..#..
##.##.#..
#..#..#..
......#.#
.##...#..
####...#.
#####.#.#
#..#..#..
.##..#...
#####....
#..#.####
.......#.",

r".....#.#.
###...#..
..#..#.##
..###.##.
##.##....
##.##....
..###.##.
..#..#.##
###...#..
....##.#.
...######",

r"...##.##.#..####.
...##.##.#..####.
#.####..#..#.....
#..........#....#
..#.##...#..#..#.
.#...##..#.#.##.#
.#.#..##...##..##
#...#...#########
.#.##.#..###....#",

r"..#.##.
....###
.....##
##...##
...#...
##..##.
###....
...##.#
##..#..
..##..#
..##..#
##..#.#
...##.#",

r"#..#..#......#..#
#..#..#......#..#
###.######.#..#.#
.#.####.#.#####..
##..####..###.#..
.##...###.#.#.##.
...#....#.#.#####
##.#..####..#....
##.#..###..#..##.
##.#..###..#..##.
##.#..####..#....
...#....#.#.#####
.##...###.#.#.##.
##...###..###.#..
.#.####.#.#####..
###.######.#..#.#
#..#..#......#..#",

r"..#...#.#.##.
.###.#....##.
.##.#..######
#.##.##.#....
#######..####
#.#.##..#....
##.#..#.##..#
..#....######
......#######
......#######
..#....######
#..#..#.##..#
#.#.##..#....
#######..####
#.##.##.#....
.##.#..######
.###.#....##.",

r"##..#..#..#
...#...##..
###..##..##
..#..##..#.
###.####.##
###..##..##
##.#.##.#.#
##.######.#
..########.",

r"##..###
####.##
.#.#...
.....##
..#.###
..#.###
###....
##.....
##...##
..#....
##.#...
###.#..
..#.###",

r"..##....#
...####.#
...##..##
#####..##
...######
####....#
.....##..
...#.##.#
##.#....#",

r"####...#.#.......
#.#.####.####...#
..#.##.#...##....
..#.##.#...##....
#.#.####.####...#
####...#.#.......
#..#.#..#.#.#.##.
.#....#....#..###
..#.##.#...#.#.#.
..#.##.#...#.#.#.
.##...#....#..###
#..#.#..#.#.#.##.
####...#.#.......",

r"#.######.
#.#....##
.#..#.###
.#..#.###
#.#....##
#.######.
......#.#
.#....#.#
#.######.
#.#....##
.#..#.###",

r".##...#..#...##..
##..#.####.#..###
#......#.......##
##..#..##..#..###
..###..##..###...
#..#..####..#..##
#.##.#....#.##.##
#.##.#....#.##.##
.###.#....#.###..",
    ];

    let s = r"
.##...#..#...##..
##..#.####.#..###
#......#.......##
##..#..##..#..###
..###..##..###...
#..#..####..#..##
#.##.#....#.##.##
#.##.#....#.##.##
.###.#....#.###..".trim();

    let ans: usize = fields.iter().map(|field| solve(field)).flat_map(|(row, col)| [row * 100, col]).sum();

    println!("ans = {}", ans);
}

fn solve(field: &str) -> (usize, usize) {
    let mut smudge = 1;
    let row = find_mirror_center_row(field, &mut smudge);
    let col = find_mirror_center_row(&transpose(field).to_string(), &mut smudge);

    (row, col)
}

fn find_mirror_center_row(field: &str, smudge: &mut usize) -> usize {
    /*
    [1,2,3,4,5]
    fold #0 - across 1/2 row: [1?2, discard]
    fold #1 - across 2/3 row: [1?4, 2?3, discard]
    fold #2 - across 3/4 row: [2?5, 3?4, discard]
    fold #3 - across 4/5 row: [4?5, discard]

    [1,2,3,4,5,6,7,8]
    fold #0 - across 1/2 row: [1?2, discard]
    fold #1 - across 2/3 row: [1?4, 2?3, discard]
    fold #2 - across 3/4 row: [2?5, 3?4, 1?6, discard]
    fold #3 - across 4/5 row: [4?5, 3?6, 2?7, 1?8, discard]
    fold #4 - across 5/6 row: [5?6, 4?7, 3?8, discard]
    fold #5 - across 6/7 row: [6?7, 5?8, discard]
    fold #6 - across 7/8 row: [7?8, discard]
     */
    let rows = field.lines().count();

    for fold in (0..((rows - 1) / 2)).rev().chain(((rows - 1) / 2)..(rows - 1)).rev() {
        // Rust is giving me BS:
        //
        // {
        //     let fold_size = fold + 1;

        //     let fold1 = field.lines().take(fold_size);
        //     let fold2 = field.lines().skip(fold_size).take(fold_size).rev(); // can't rev this MOFO

        //     let folds = fold1.zip(fold2); // the trait bound `std::str::Lines<'_>: std::iter::ExactSizeIterator` is not satisfied

        //     // cannot mutate immutable variable `folds`rust-analyzerE0384
        //     //
        //     // the method `all` exists for struct `Zip<Take<Lines<'_>>, Rev<Take<Skip<Lines<'_>>>>>`, but its trait bounds were not satisfied
        //     if folds.all(|(a, b)| a == b) {
        //         return fold + 1
        //     }
        // }

        if fold < rows / 2 {
            let fold_size = fold + 1;

            let fold1 = field.lines().take(fold_size).collect::<Vec<_>>();
            let fold2 = field.lines().skip(fold_size).take(fold_size).collect::<Vec<_>>(); // can't rev this MOFO

            let diff: usize = (0..fold_size).map(|i| {
                let s1 = fold1.get(i).unwrap();
                let s2 = fold2.get(fold_size - 1 - i).unwrap();

                (0..s1.len()).filter(|i| s1.chars().nth(*i) != s2.chars().nth(*i)).count()
            }).sum();

            if diff == 1 {
                return fold + 1
            }
        } else {
            let fold_size = rows - (fold + 1);

            // the mutation does not make any sense whatsoever, but FU, it's rust!
            let fold1 = field.lines().skip(rows - (fold_size * 2)).take(fold_size).collect::<Vec<_>>();
            let fold2 = field.lines().skip(rows - fold_size).take(fold_size).collect::<Vec<_>>();

            let diff: usize = (0..fold_size).map(|i| {
                let s1 = fold1.get(i).unwrap();
                let s2 = fold2.get(fold_size - 1 - i).unwrap();

                (0..s1.len()).filter(|i| s1.chars().nth(*i) != s2.chars().nth(*i)).count()
            }).sum();

            if diff == 1 {
                return fold + 1
            }
        }
    }

    0
}

fn transpose(field: &str) -> String {
    let cols = field.lines().next().unwrap().len();

    (0..cols).map(|col| field.lines().map(|line| line.chars().nth(col).unwrap()).collect::<String>()).collect::<Vec<_>>().join("\n")
}
